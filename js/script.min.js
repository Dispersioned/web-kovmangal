const ibgInit=function(){function e(e){const t=["png","jpg","jpeg","gif","svg"];for(const n of t)if(e.includes(n))return e.replace(n,"webp")}!function(){const t=document.querySelectorAll(".ibg");for(let n=0;n<t.length;n++)if(t[n].querySelector("img")){const o=e(t[n].querySelector("img").getAttribute("src"));t[n].style.backgroundImage="url("+o+")"}}()};ibgInit();const modifiersInit=function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";let n={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}},o=document.querySelector("body");n.any()?o.classList.add("touch"):o.classList.add("mouse"),o.classList.contains("mouse")&&(document.body.addEventListener("mousedown",(function(e){document.body.classList.add("using-mouse")})),document.body.addEventListener("keydown",(function(e){9===event.keyCode&&document.body.classList.remove("using-mouse")})))};modifiersInit();const burgerInit=function(){const e=document.querySelector(".header__burger"),t=document.querySelector(".header__burger-icon"),n=document.querySelector(".header__burger-title"),o=document.querySelector(".header__nav"),r=document.querySelector(".header__contacts"),i=document.querySelector(".nav__contacts");r.classList.add("_active"),function(){for(const e of r.children){const t=e.cloneNode(!0);i.append(t)}}(),e&&e.addEventListener("click",(function(e){document.querySelector("body").classList.toggle("_lock"),t.classList.toggle("_active"),o.classList.toggle("_active"),n.classList.toggle("_active"),r.classList.toggle("_active"),i.classList.toggle("_active"),document.querySelector(".header").classList.toggle("_active")}))};function lockPaddingInit(){const e=document.querySelector("body");new MutationObserver((function(n,o){for(const o of n)"class"===o.attributeName&&(e.classList.contains("_lock")?(e.style.marginRight=t+"px",document.querySelector(".nav").style.paddingRight=t+"px",document.querySelector(".header").style.paddingRight=t+"px"):(e.style.removeProperty("margin-right"),document.querySelector(".nav").style.paddingRight="0px",document.querySelector(".header").style.paddingRight="0px"))})).observe(e,{attributes:!0});const t=function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}()}function factoryVideoInit(){const e=document.getElementById("factory-video"),t=document.querySelector(".factory__video-play-btn");t.addEventListener("click",(function(n){t.setAttribute("hidden","true"),e.setAttribute("controls","true"),e.play()}))}function contactUsFormInit(){const e={Whatsapp:"#4CAF50",Telegram:"#039BE5",Viber:"#7F40BD"},t=document.querySelector(".form-contact-us__messangers"),n=document.querySelector(".form-contact-us__input--messanger .form-contact-us__input-heading");t&&n&&t.addEventListener("click",(function(o){const r=o.target.closest(".form-contact-us__messangers-list-item");if(!r)return;const i=r.dataset.itemMessanger;if(n.textContent=i,n.style.color=e[i],r.classList.contains("_active"))return;const c=t.querySelector(".form-contact-us__messangers-list-item._active");c.classList.remove("_active"),r.classList.add("_active");const s=c.querySelector("input[type=radio]"),a=r.querySelector("input[type=radio]");s.removeAttribute("checked"),a.setAttribute("checked",!0)}));const o=document.querySelector(".form-contact-us__input--messanger input");IMask(o,{mask:"+7 000 000-00-00"})}function initOurWorksSlider(){const e=document.querySelector(".our-works__container"),t=document.querySelector(".first-screen .container"),n=new ResizeObserver((n=>{for(let o of n){const n=window.getComputedStyle(t),o=parseInt(n.marginLeft),r=parseInt(n.paddingLeft);console.log("true"),e.style.marginLeft=o+r+"px"}})),o=new Swiper(".our-works__slider",{loop:!0,slidesPerView:1.35,spaceBetween:20,simulateTouch:!1,centeredSlides:!0,breakpoints:{479:{slidesPerView:1.2,centeredSlides:!0},575:{slidesPerView:2,autoHeight:!1,centeredSlides:!1},992:{slidesPerView:2,spaceBetween:40}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),r=document.querySelector(".our-works__navigation-next"),i=document.querySelector(".our-works__navigation-prev"),c=document.querySelector(".our-works__navigation-btns"),s=document.querySelectorAll(".our-works__slider .our-works__item:not(.swiper-slide-duplicate)"),a=document.querySelector(".our-works__element-preview");function d(){const e=(document.querySelector(" .our-works__slider .our-works__item.swiper-slide-active").dataset.swiperSlideIndex+2)%s.length,t=document.querySelector(`.our-works__slider .our-works__item:not(.swiper-slide-duplicate)[data-swiper-slide-index="${e}"]`);a.innerHTML=t.innerHTML}function u(){n.unobserve(document.body),e.style.marginLeft="0px",e.style.marginRight="0px"}function l(){n.observe(document.body),e.style.marginRight="25px"}d(),c.addEventListener("click",(function(e){var t;(t=e.target)===i?(o.slidePrev(),d()):t===r&&(o.slideNext(),d())}));const m=window.matchMedia("(max-width: 991px)");m.matches?u():l(),m.addEventListener("change",(e=>{e.matches?u():l()}))}burgerInit(),document.querySelector("body").classList.contains("mouse")&&lockPaddingInit(),factoryVideoInit(),contactUsFormInit(),initOurWorksSlider();