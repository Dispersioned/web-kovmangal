const ibgInit=function(){function t(t){const e=["png","jpg","jpeg","gif","svg"];for(const o of e)if(t.includes(o))return t.replace(o,"webp")}!function(){const e=document.querySelectorAll(".ibg");for(let o=0;o<e.length;o++)if(e[o].querySelector("img")){const n=t(e[o].querySelector("img").getAttribute("src"));e[o].style.backgroundImage="url("+n+")"}}()};ibgInit();const modifiersInit=function(){var t,e;t=function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(e=new Image).onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";let o={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return o.Android()||o.BlackBerry()||o.iOS()||o.Opera()||o.Windows()}},n=document.querySelector("body");o.any()?n.classList.add("touch"):n.classList.add("mouse"),n.classList.contains("mouse")&&(document.body.addEventListener("mousedown",(function(t){document.body.classList.add("using-mouse")})),document.body.addEventListener("keydown",(function(t){9===event.keyCode&&document.body.classList.remove("using-mouse")})))};modifiersInit();const burgerInit=function(){const t=document.querySelector(".header__burger"),e=document.querySelector(".header__burger-icon"),o=document.querySelector(".header__burger-title"),n=document.querySelector(".header__nav"),i=document.querySelector(".header__contacts"),r=document.querySelector(".nav__contacts");i.classList.add("_active"),function(){for(const t of i.children){const e=t.cloneNode(!0);r.append(e)}}(),t&&t.addEventListener("click",(function(t){document.querySelector("body").classList.toggle("_lock"),e.classList.toggle("_active"),n.classList.toggle("_active"),o.classList.toggle("_active"),i.classList.toggle("_active"),r.classList.toggle("_active"),document.querySelector(".header").classList.toggle("_active")}))};burgerInit();const spoilersInit=function(){const t=document.querySelectorAll("[data-spoilers]");if(t.length>0){const s=Array.from(t).filter((function(t,e,o){return!t.dataset.spoilers.split(",")[0]}));s.length>0&&e(s);const c=Array.from(t).filter((function(t,e,o){return t.dataset.spoilers.split(",")[0]}));if(c.length>0){const t=[];c.forEach((e=>{const o={},n=e.dataset.spoilers.split(",");o.value=n[0],o.type=n[1]?n[1].trim():"max",o.item=e,t.push(o)}));let o=t.map((function(t){return`(${t.type}-width: ${t.value}px),${t.value},${t.type}`}));o=o.filter((function(t,e,o){return o.indexOf(t)===e})),o.forEach((o=>{const n=o.split(","),i=n[1],r=n[2],s=window.matchMedia(n[0]),c=t.filter((function(t){if(t.value===i&&t.type===r)return!0}));s.addEventListener("change",(function(){e(c,s)})),e(c,s)}))}function e(t,e=!1){t.forEach((t=>{t=e?t.item:t,e.matches||!e?(t.classList.add("_init"),o(t),t.addEventListener("click",n)):(t.classList.remove("_init"),o(t,!1),t.removeEventListener("click",n))}))}function o(t,e=!0){const o=t.querySelectorAll("[data-spoiler]");o.length>0&&o.forEach((t=>{e?(t.removeAttribute("tabindex"),t.classList.contains("_active")||(t.nextElementSibling.hidden=!0)):(t.setAttribute("tabindex","-1"),t.nextElementSibling.hidden=!1)}))}function n(t){const e=t.target;if(e.hasAttribute("data-spoiler")||e.closest("[data-spoiler]")){const o=e.hasAttribute("data-spoiler")?e:e.closest("[data-spoiler]"),n=o.closest("[data-spoilers]"),s=!!n.hasAttribute("data-one-spoiler");n.querySelectorAll("._slide").length||(s&&!o.classList.contains("_active")&&function(t){const e=t.querySelector("[data-spoiler]._active");e&&(e.classList.remove("_active"),i(e.nextElementSibling,500))}(n),o.classList.toggle("_active"),r(o.nextElementSibling,500)),t.preventDefault()}}}let i=(t,e=500)=>{t.classList.contains("_slide")||(t.classList.add("_slide"),t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((()=>{t.hidden=!0,t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition_property"),t.classList.remove("_slide")}),e))},r=(t,e=500)=>t.hidden?((t,e=500)=>{if(!t.classList.contains("_slide")){t.classList.add("_slide"),t.hidden&&(t.hidden=!1);let o=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=o+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition_property"),t.classList.remove("_slide")}),e)}})(t,e):i(t,e)};spoilersInit();const popupInit=function(){const t=document.querySelectorAll(".popup-link");let e=document.querySelector("body");const o=document.querySelectorAll(".lock-padding");let n=!0;const i=500;if(t.length>0)for(let e=0;e<t.length;e++){const o=t[e];o.addEventListener("click",(function(t){const e=o.getAttribute("href").replace("#","");s(document.getElementById(e)),t.preventDefault()}))}const r=document.querySelectorAll(".close-popup");if(r.length>0)for(let t=0;t<r.length;t++){const e=r[t];e.addEventListener("click",(function(t){c(e.closest(".popup")),t.preventDefault()}))}function s(t){if(t&&n){const r=document.querySelector(".popup.open");r?c(r,!1):function(){const t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(o.length>0)for(let e=0;e<o.length;e++){const n=o[e];n.style.right=t,n.style.transitionProperty="all",n.style.transitionDuration="0s"}e.style.paddingRight=t,e.classList.add("_lock"),n=!1,setTimeout((function(){n=!0}),i)}(),t.classList.add("open"),t.addEventListener("click",(function(t){t.target.closest(".popup-question__content")||c(t.target.closest(".popup"))}))}}function c(t,r=!0){n&&(t.classList.remove("open"),r&&(setTimeout((function(){if(o.length>0)for(let t=0;t<o.length;t++){const e=o[t];e.style.right="0px",setTimeout((()=>{e.style.removeProperty?(console.log(!0),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-duration")):(e.style.removeAttribute("transition-property"),e.style.removeAttribute("transition-duration"))}),100)}e.style.paddingRight="0px",e.classList.remove("_lock")}),i),n=!1,setTimeout((function(){n=!0}),i)))}document.addEventListener("keydown",(function(t){if(27===t.which){c(document.querySelector(".popup.open"))}}))};popupInit();const selectInit=function(){const t=document.querySelector(".select__header"),e=document.querySelector(".select__icon"),o=document.querySelector(".select__body");if(!t)return;const n=function(){e.classList.toggle("_active"),t.classList.toggle("_active"),o.classList.toggle("_active")};t.addEventListener("click",n),document.addEventListener("click",(function(e){e.target!==t&&!t.contains(e.target)&&t.classList.contains("_active")&&n()}));function i(){let t=this.innerText;this.closest(".select").querySelector(".select__current").innerText=t}document.querySelectorAll(".select__item").forEach((t=>{t.addEventListener("click",i)}))};function lockPaddingInit(){const t=document.querySelector("body");new MutationObserver((function(o,n){for(const n of o)"class"===n.attributeName&&(t.classList.contains("_lock")?(t.style.marginRight=e+"px",document.querySelector(".nav").style.paddingRight=e+"px",document.querySelector(".header").style.paddingRight=e+"px"):(t.style.removeProperty("margin-right"),document.querySelector(".nav").style.paddingRight="0px",document.querySelector(".header").style.paddingRight="0px"))})).observe(t,{attributes:!0});const e=function(){const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const o=t.offsetWidth-e.offsetWidth;return t.parentNode.removeChild(t),o}()}function factoryVideoInit(){const t=document.getElementById("factory-video"),e=document.querySelector(".factory__video-play-btn");e.addEventListener("click",(function(o){e.setAttribute("hidden","true"),t.setAttribute("controls","true"),t.play()}))}function contactUsFormInit(){const t={Whatsapp:"#4CAF50",Telegram:"#039BE5",Viber:"#7F40BD"},e=document.querySelector(".form-contact-us__messangers"),o=document.querySelector(".form-contact-us__input--messanger .form-contact-us__input-heading");e&&o&&e.addEventListener("click",(function(n){const i=n.target.closest(".form-contact-us__messangers-list-item");if(!i)return;const r=i.dataset.itemMessanger;if(o.textContent=r,o.style.color=t[r],i.classList.contains("_active"))return;const s=e.querySelector(".form-contact-us__messangers-list-item._active");s.classList.remove("_active"),i.classList.add("_active");const c=s.querySelector("input[type=radio]"),l=i.querySelector("input[type=radio]");c.removeAttribute("checked"),l.setAttribute("checked",!0)}));const n=document.querySelector(".form-contact-us__input--messanger input");IMask(n,{mask:"+7 000 000-00-00"})}selectInit(),document.querySelector("body").classList.contains("mouse")&&lockPaddingInit(),factoryVideoInit(),contactUsFormInit();