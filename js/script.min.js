const ibgInit=function(){function e(e){const t=["png","jpg","jpeg","gif","svg"];for(const o of t)if(e.includes(o))return e.replace(o,"webp")}!function(){const t=document.querySelectorAll(".ibg");for(let o=0;o<t.length;o++)if(t[o].querySelector("img")){const n=e(t[o].querySelector("img").getAttribute("src"));t[o].style.backgroundImage="url("+n+")"}}()};ibgInit();const modifiersInit=function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";let o={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return o.Android()||o.BlackBerry()||o.iOS()||o.Opera()||o.Windows()}},n=document.querySelector("body");o.any()?n.classList.add("touch"):n.classList.add("mouse"),n.classList.contains("mouse")&&(document.body.addEventListener("mousedown",(function(e){document.body.classList.add("using-mouse")})),document.body.addEventListener("keydown",(function(e){9===event.keyCode&&document.body.classList.remove("using-mouse")})))};modifiersInit();const burgerInit=function(){const e=document.querySelector(".header__burger"),t=document.querySelector(".header__burger-icon"),o=document.querySelector(".header__burger-title"),n=document.querySelector(".header__nav"),i=document.querySelector(".header__contacts"),r=document.querySelector(".nav__contacts");i.classList.add("_active"),function(){for(const e of i.children){const t=e.cloneNode(!0);r.append(t)}}(),e&&e.addEventListener("click",(function(e){document.querySelector("body").classList.toggle("_lock"),t.classList.toggle("_active"),n.classList.toggle("_active"),o.classList.toggle("_active"),i.classList.toggle("_active"),r.classList.toggle("_active"),document.querySelector(".header").classList.toggle("_active")}))};burgerInit();const spoilersInit=function(){const e=document.querySelectorAll("[data-spoilers]");if(e.length>0){const s=Array.from(e).filter((function(e,t,o){return!e.dataset.spoilers.split(",")[0]}));s.length>0&&t(s);const c=Array.from(e).filter((function(e,t,o){return e.dataset.spoilers.split(",")[0]}));if(c.length>0){const e=[];c.forEach((t=>{const o={},n=t.dataset.spoilers.split(",");o.value=n[0],o.type=n[1]?n[1].trim():"max",o.item=t,e.push(o)}));let o=e.map((function(e){return`(${e.type}-width: ${e.value}px),${e.value},${e.type}`}));o=o.filter((function(e,t,o){return o.indexOf(e)===t})),o.forEach((o=>{const n=o.split(","),i=n[1],r=n[2],s=window.matchMedia(n[0]),c=e.filter((function(e){if(e.value===i&&e.type===r)return!0}));s.addEventListener("change",(function(){t(c,s)})),t(c,s)}))}function t(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),o(e),e.addEventListener("click",n)):(e.classList.remove("_init"),o(e,!1),e.removeEventListener("click",n))}))}function o(e,t=!0){const o=e.querySelectorAll("[data-spoiler]");o.length>0&&o.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function n(e){const t=e.target;if(t.hasAttribute("data-spoiler")||t.closest("[data-spoiler]")){const o=t.hasAttribute("data-spoiler")?t:t.closest("[data-spoiler]"),n=o.closest("[data-spoilers]"),s=!!n.hasAttribute("data-one-spoiler");n.querySelectorAll("._slide").length||(s&&!o.classList.contains("_active")&&function(e){const t=e.querySelector("[data-spoiler]._active");t&&(t.classList.remove("_active"),i(t.nextElementSibling,500))}(n),o.classList.toggle("_active"),r(o.nextElementSibling,500)),e.preventDefault()}}}let i=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition_property"),e.classList.remove("_slide")}),t))},r=(e,t=500)=>e.hidden?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition_property"),e.classList.remove("_slide")}),t)}})(e,t):i(e,t)};spoilersInit();const popupInit=function(){const e=document.querySelectorAll(".popup-link");let t=document.querySelector("body");const o=document.querySelectorAll(".lock-padding");let n=!0;const i=500;if(e.length>0)for(let t=0;t<e.length;t++){const o=e[t];o.addEventListener("click",(function(e){const t=o.getAttribute("href").replace("#","");s(document.getElementById(t)),e.preventDefault()}))}const r=document.querySelectorAll(".close-popup");if(r.length>0)for(let e=0;e<r.length;e++){const t=r[e];t.addEventListener("click",(function(e){c(t.closest(".popup")),e.preventDefault()}))}function s(e){if(e&&n){const r=document.querySelector(".popup.open");r?c(r,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(o.length>0)for(let t=0;t<o.length;t++){const n=o[t];n.style.right=e,n.style.transitionProperty="all",n.style.transitionDuration="0s"}t.style.paddingRight=e,t.classList.add("_lock"),n=!1,setTimeout((function(){n=!0}),i)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup-question__content")||c(e.target.closest(".popup"))}))}}function c(e,r=!0){n&&(e.classList.remove("open"),r&&(setTimeout((function(){if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.style.right="0px",setTimeout((()=>{t.style.removeProperty?(console.log(!0),t.style.removeProperty("transition-property"),t.style.removeProperty("transition-duration")):(t.style.removeAttribute("transition-property"),t.style.removeAttribute("transition-duration"))}),100)}t.style.paddingRight="0px",t.classList.remove("_lock")}),i),n=!1,setTimeout((function(){n=!0}),i)))}document.addEventListener("keydown",(function(e){if(27===e.which){c(document.querySelector(".popup.open"))}}))};popupInit();const selectInit=function(){const e=document.querySelector(".select__header"),t=document.querySelector(".select__icon"),o=document.querySelector(".select__body");if(!e)return;const n=function(){t.classList.toggle("_active"),e.classList.toggle("_active"),o.classList.toggle("_active")};e.addEventListener("click",n),document.addEventListener("click",(function(t){t.target!==e&&!e.contains(t.target)&&e.classList.contains("_active")&&n()}));function i(){let e=this.innerText;this.closest(".select").querySelector(".select__current").innerText=e}document.querySelectorAll(".select__item").forEach((e=>{e.addEventListener("click",i)}))};selectInit();