const ibgInit=function(){function e(e){const t=["png","jpg","jpeg","gif","svg"];for(const n of t)if(e.includes(n))return e.replace(n,"webp")}!function(){const t=document.querySelectorAll(".ibg");for(let n=0;n<t.length;n++)if(t[n].querySelector("img")){const i=e(t[n].querySelector("img").getAttribute("src"));t[n].style.backgroundImage="url("+i+")"}}()};ibgInit();const modifiersInit=function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";let n={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}},i=document.querySelector("body");n.any()?i.classList.add("touch"):i.classList.add("mouse"),i.classList.contains("mouse")&&(document.body.addEventListener("mousedown",(function(e){document.body.classList.add("using-mouse")})),document.body.addEventListener("keydown",(function(e){9===event.keyCode&&document.body.classList.remove("using-mouse")})))};modifiersInit();const burgerInit=function(){const e=document.querySelector(".header__burger"),t=document.querySelector(".header__burger-icon"),n=document.querySelector(".header__burger-title"),i=document.querySelector(".header__nav"),o=document.querySelector(".header__contacts"),r=document.querySelector(".nav__contacts");o.classList.add("_active"),function(){for(const e of o.children){const t=e.cloneNode(!0);r.append(t)}}(),e&&e.addEventListener("click",(function(e){document.querySelector("body").classList.toggle("_lock"),t.classList.toggle("_active"),i.classList.toggle("_active"),n.classList.toggle("_active"),o.classList.toggle("_active"),r.classList.toggle("_active"),document.querySelector(".header").classList.toggle("_active")}))};burgerInit();const spoilersInit=function(){const e=document.querySelectorAll("[data-spoilers]");if(e.length>0){const s=Array.from(e).filter((function(e,t,n){return!e.dataset.spoilers.split(",")[0]}));s.length>0&&t(s);const c=Array.from(e).filter((function(e,t,n){return e.dataset.spoilers.split(",")[0]}));if(c.length>0){const e=[];c.forEach((t=>{const n={},i=t.dataset.spoilers.split(",");n.value=i[0],n.type=i[1]?i[1].trim():"max",n.item=t,e.push(n)}));let n=e.map((function(e){return`(${e.type}-width: ${e.value}px),${e.value},${e.type}`}));n=n.filter((function(e,t,n){return n.indexOf(e)===t})),n.forEach((n=>{const i=n.split(","),o=i[1],r=i[2],s=window.matchMedia(i[0]),c=e.filter((function(e){if(e.value===o&&e.type===r)return!0}));s.addEventListener("change",(function(){t(c,s)})),t(c,s)}))}function t(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),n(e),e.addEventListener("click",i)):(e.classList.remove("_init"),n(e,!1),e.removeEventListener("click",i))}))}function n(e,t=!0){const n=e.querySelectorAll("[data-spoiler]");n.length>0&&n.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function i(e){const t=e.target;if(t.hasAttribute("data-spoiler")||t.closest("[data-spoiler]")){const n=t.hasAttribute("data-spoiler")?t:t.closest("[data-spoiler]"),i=n.closest("[data-spoilers]"),s=!!i.hasAttribute("data-one-spoiler");i.querySelectorAll("._slide").length||(s&&!n.classList.contains("_active")&&function(e){const t=e.querySelector("[data-spoiler]._active");t&&(t.classList.remove("_active"),o(t.nextElementSibling,500))}(i),n.classList.toggle("_active"),r(n.nextElementSibling,500)),e.preventDefault()}}}let o=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition_property"),e.classList.remove("_slide")}),t))},r=(e,t=500)=>e.hidden?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition_property"),e.classList.remove("_slide")}),t)}})(e,t):o(e,t)};function lockPaddingInit(){const e=document.querySelector("body");new MutationObserver((function(n,i){for(const i of n)"class"===i.attributeName&&(e.classList.contains("_lock")?(e.style.marginRight=t+"px",document.querySelector(".nav").style.paddingRight=t+"px",document.querySelector(".header").style.paddingRight=t+"px"):(e.style.removeProperty("margin-right"),document.querySelector(".nav").style.paddingRight="0px",document.querySelector(".header").style.paddingRight="0px"))})).observe(e,{attributes:!0});const t=function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}()}function factoryVideoInit(){const e=document.getElementById("factory-video"),t=document.querySelector(".factory__video-play-btn");t.addEventListener("click",(function(n){t.setAttribute("hidden","true"),e.setAttribute("controls","true"),e.play()}))}function contactUsFormInit(){const e={Whatsapp:"#4CAF50",Telegram:"#039BE5",Viber:"#7F40BD"},t=document.querySelector(".form-contact-us__messangers"),n=document.querySelector(".form-contact-us__input--messanger .form-contact-us__input-heading");t&&n&&t.addEventListener("click",(function(i){const o=i.target.closest(".form-contact-us__messangers-list-item");if(!o)return;const r=o.dataset.itemMessanger;if(n.textContent=r,n.style.color=e[r],o.classList.contains("_active"))return;const s=t.querySelector(".form-contact-us__messangers-list-item._active");s.classList.remove("_active"),o.classList.add("_active");const c=s.querySelector("input[type=radio]"),a=o.querySelector("input[type=radio]");c.removeAttribute("checked"),a.setAttribute("checked",!0)}));const i=document.querySelector(".form-contact-us__input--messanger input");IMask(i,{mask:"+7 000 000-00-00"})}function initOurWorksSlider(){const e=document.querySelector(".our-works__container"),t=document.querySelector(".first-screen .container"),n=new ResizeObserver((n=>{for(let i of n){const n=window.getComputedStyle(t),i=parseInt(n.marginLeft),o=parseInt(n.paddingLeft);e.style.marginLeft=i+o+"px"}})),i=new Swiper(".our-works__slider",{loop:!0,slidesPerView:1.35,spaceBetween:20,simulateTouch:!1,centeredSlides:!0,breakpoints:{479:{slidesPerView:1.2,centeredSlides:!0},575:{slidesPerView:2,centeredSlides:!1},992:{slidesPerView:2,spaceBetween:40,centeredSlides:!1}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),o=document.querySelector(".our-works__navigation-next"),r=document.querySelector(".our-works__navigation-prev"),s=document.querySelector(".our-works__navigation-btns"),c=document.querySelectorAll(".our-works__slider .our-works__item:not(.swiper-slide-duplicate)"),a=document.querySelector(".our-works__element-preview");function l(){const e=(document.querySelector(" .our-works__slider .our-works__item.swiper-slide-active").dataset.swiperSlideIndex+2)%c.length,t=document.querySelector(`.our-works__slider .our-works__item:not(.swiper-slide-duplicate)[data-swiper-slide-index="${e}"]`);a.innerHTML=t.innerHTML}function d(){n.unobserve(document.body),e.style.marginLeft="0px",e.style.marginRight="0px"}function u(){n.observe(document.body),e.style.marginRight="25px"}l(),s.addEventListener("click",(function(e){var t;(t=e.target)===r?(i.slidePrev(),l()):t===o&&(i.slideNext(),l())}));const m=window.matchMedia("(max-width: 991px)");m.matches?d():u(),m.addEventListener("change",(e=>{e.matches?d():u()}))}function initReviewsSlider(){new Swiper(".reviews__slider",{slidesPerView:1.3,centeredSlides:!0,spaceBetween:20,simulateTouch:!1,breakpoints:{479:{slidesPerView:2,spaceBetween:30,centeredSlides:!0},576:{slidesPerView:2,spaceBetween:40,centeredSlides:!0},767:{slidesPerView:3,spaceBetween:40},991:{slidesPerView:4,spaceBetween:70}},pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}spoilersInit(),document.querySelector("body").classList.contains("mouse")&&lockPaddingInit(),factoryVideoInit(),contactUsFormInit(),initOurWorksSlider(),initReviewsSlider();